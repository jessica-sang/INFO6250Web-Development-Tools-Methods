(()=>{"use strict";var t=[{id:1,name:"Fluffball",price:.99,image:"http://placekitten.com/150/150?image=1"},{id:2,name:"General Mayhem",price:3.14,image:"http://placekitten.com/150/150?image=2"},{id:3,name:"Chairman Meow",price:2.73,image:"http://placekitten.com/150/150?image=3"}];function e(t){return e="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},e(t)}function n(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,i)}return n}function i(t){for(var i=1;i<arguments.length;i++){var a=null!=arguments[i]?arguments[i]:{};i%2?n(Object(a),!0).forEach((function(n){var i,r,c,o;i=t,r=n,c=a[n],o=function(t,n){if("object"!=e(t)||!t)return t;var i=t[Symbol.toPrimitive];if(void 0!==i){var a=i.call(t,"string");if("object"!=e(a))return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(r),(r="symbol"==e(o)?o:String(o))in i?Object.defineProperty(i,r,{value:c,enumerable:!0,configurable:!0,writable:!0}):i[r]=c})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(a)):n(Object(a)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(a,e))}))}return t}var a=[],r=function(e){var n=parseInt(e,10),r=t.find((function(t){return t.id===n})),o=a.find((function(t){return t.id===n}));o?o.quantity+=1:a.push(i(i({},r),{},{quantity:1})),c()},c=function(){var t=a.map((function(t){return'\n        <div class="cart-item">\n            <div class="cart-item-details">\n                <h4>'.concat(t.name,'</h4>\n                <img src="').concat(t.image,'" alt="').concat(t.name,'" class="cart-item-image">\n            </div>\n            <div class="cart-item-price">\n                <p>Price: $').concat(t.price,'</p>\n                <p>Quantity: <input type="number" value="').concat(t.quantity,'" data-id="').concat(t.id,'" class="cart-item-quantity"></p>\n            </div>\n        </div>\n    ')})).join("");t+='<button id="checkout-btn">Checkout</button>',document.getElementById("cart").innerHTML=t,document.getElementById("view-cart-btn").style.display="none",document.getElementById("cart").style.display="block"},o=function(t){var e=document.getElementById("cart"),n=document.getElementById("view-cart-btn"),i=document.getElementById("hide-cart-btn");t?(e.classList.add("visible"),e.style.display="block",n.style.display="none",i.style.display="block"):(e.classList.remove("visible"),e.style.display="none",n.style.display="block",i.style.display="none")},d=function(){a=[],c(),o()};window.updateQuantity=function(t,e){var n=a.find((function(e){return e.id===t}));n&&(n.quantity=e,c())},document.addEventListener("DOMContentLoaded",(function(){t.forEach((function(t){document.getElementById("products").innerHTML+='\n            <div class="product">\n                <img src="'.concat(t.image,'" alt="').concat(t.name,'">\n                <h3>').concat(t.name,"</h3>\n                <p>$").concat(t.price.toFixed(2),'</p>\n                <button class="add-to-cart-btn" data-id="').concat(t.id,'">Add to Cart</button>\n            </div>\n        ')}))})),document.body.addEventListener("click",(function(t){if(t.target.matches(".add-to-cart-btn")){var e=t.target.dataset.id;r(e)}else t.target.matches("#view-cart-btn")?o(!0):t.target.matches("#hide-cart-btn")?o(!1):t.target.matches("#checkout-btn")&&d()})),document.body.addEventListener("change",(function(t){if(t.target.matches(".cart-item-quantity")){var e=t.target.dataset.id,n=parseInt(t.target.value,10);updateQuantity(e,n)}})),window.addToCart=r,window.toggleCartVisibility=o,window.checkoutCart=d,window.updateQuantity=updateQuantity})();